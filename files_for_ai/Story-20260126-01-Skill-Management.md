# Story-20260126-01: Skill (技能/工具) 管理系统

## 1. 痛点分析
目前的 PromptStudio 仅限于文本层面的交互。即使用户通过 Prompt 引导 AI 生成了代码或执行方案，用户仍需手动复制并到外部环境运行。这种“断点式”的工作流极大地限制了生产力。我们需要为 AI 提供一套可调用的“工具箱”。

## 2. 核心需求

### 2.1 技能注册中心 (Skill Registry)
- **需求**：提供一个统一的界面来定义和管理 AI 可以调用的技能。
- **功能点**：
    - 支持定义技能名称、描述（供 AI 理解何时调用）、参数 Schema（JSON Schema 格式）。
    - 支持多种技能类型：
        - **REST API**: 通过配置 URL、Method 和 Header 调用外部服务。
        - **Local Script**: 在 Tauri 环境下安全执行用户定义的 Python 或 JS 代码。
    - 示例：`fetch_stock_price` (API), `format_csv_to_json` (Script)。

### 2.2 技能绑定与注入 (Skill Binding)
- **需求**：用户可以将特定的技能组绑定到某个提示词模板。
- **功能点**：
    - 在编辑模板时，新增“技能选择”面板。
    - 当用户使用该模板进行对话时，这些技能的定义会自动注入到大模型的 Tool Use (Function Calling) 字段中。

### 2.3 交互式执行确认 (Human-in-the-loop)
- **需求**：出于安全考虑，敏感技能的执行必须经过用户确认。
- **功能点**：
    - 在对话流中，当 AI 请求调用技能时，显示一个“调用请求卡片”。
    - 卡片展示拟调用的参数，提供“批准”或“拒绝”按钮。
    - 批准后，实时展示执行结果（Stdout/Stderr 或 API Response）。

## 3. 用户场景示例
- **场景**：自动化周报生成。
- **流程**：
    1. 用户选择“周报生成”模板。
    2. 模板绑定了 `get_github_commits` 技能。
    3. AI 自动调用该技能获取本周代码提交记录。
    4. 用户点击确认，AI 获取数据后自动撰写周报文本。
