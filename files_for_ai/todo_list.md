# 社区功能
## 账户系统
- 注册登录等功能，目前支持通过邮箱+密码登录
  - 注册时
    - 邮箱重复则提醒用户已存在账号，直接进入登录验证流程
    - 密码需要以密文形式存储... 
  - 登录时
    - 如果邮箱找到用户，则提醒用户，会创建新用户
## 云端备份
- 数据云端备份功能，用户登录后才开启云端备份，云端数据和用户账户绑定
  - 备份的是用户本地文件夹下所有存档数据，无需结构化
  - 对于用户本地的多媒体数据比如图片和视频应该编码后统一管理，比如上传到oss或者s3等
    - 本期在服务器本地文件夹内mock这个流程
    - 这些多媒体文件不应该在服务器上存在多副本，所有用到这些多媒体内容的地方都应该用一个可访问的url指向原始文件。
## 提示词市场
- 支持一键上架到市场页面
  - 调用大模型，检测内容中是否包含敏感信息，敏感信息主要是api_key、secret等，如果存在则需要给出脱敏改造指导，用户可以选择应用或者忽略，再上传
  - 生成一个id（非数据库自增id，要求不可枚举），作为唯一标记，并且保持市场上的这条提示词和本地的这条保持关联
  - 支持推送版本号，所有导入了这条提示词的用户都会在通知中心中接收到提示词有新版本的通知，并支持查看比对和一键更新到本地
  - 上架时可以指定可见范围，owner可随时更改
      - 仅通过分享链接查看
      - 公开
  - 发布成功才真正在社区的数据库中落库
- 在页面上添加提示词市场页面
  - 支持按照标题和tag搜索提示词，范围是对于"公开"可见的提示词。"可见范围"的作用就体现在这里
  - 支持查看提示词标题、版本号、内容、备注信息、赞/踩数量和比例等，上述内容是只读的
  - 支持一键应用到个人工作空间中
    - 注意，不要将分享用户的tag一并导入，需要接收人自行指定tag
    - 导入的这个提示词需要记录来源，保持和市场中这条提示词的关联
      - 在提示词详情页需要支持一键跳转到市场页面
      - 定时(比如一天一次？)(支持手动触发)从服务器拉取所有来自市场的提示词和最新版本号，对比是否有更新，用户可以选择性更新提示词版本。
      - 更新前的版本会在本地记录下来，如果用户未曾拥有过某个版本，则不会保存次此版本
      - 用户可以在本地回滚到某个历史版本上，不会产生新的版本！这点和更新本地提示词有所不同（总是会生成新的版本），一定注意。
  - 以下内容在点击前需要验证登录状态，未登录则需要弹窗登录
    - 支持一键点赞和点踩
    - 支持文字评论、回复等
    - 评论、回复等会在接收人的通知信息中（通知中心也需要简单实现一下，区分"互动“(点赞/踩)、"评论"、"更新" 三栏）
- 支持一键生成分享链接，接收人可直接跳转市场页面。